<!--

  Copyright (C) 2006 Helene Parruitte <parruit@enseirb.fr>
  Copyright (C) 2006 Bertrand Ardouin <ardouin@xmodtech.com>
  Copyright (C) 2006 Stefan Jahn <stefan@lkcc.org>

  This is free software; you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation; either version 2, or (at your option)
  any later version.

-->

<?xml version="1.0" encoding="ISO-8859-1"?>

<!DOCTYPE admst SYSTEM "admst.dtd">
<admst version="2.2.4" xmlns:admst="http://mot-adms.sourceforge.net/xml-files/admst">


<!-- handling of device: starting point -->
<admst:for-each select="/module">
<!-- definition of variables -->
<admst:value-of select="name"/>
<admst:variable name="module" select="%s"/>
<admst:count select="node[location='external' and name!='GND']"/>
<admst:variable name="nbr_nodes" select="%s"/>
</admst:for-each>

<admst:open file="$module.defs.h">
<admst:for-each select="/module">
<admst:text format="  /* $module verilog device */\n"/>
<admst:text format="  { &quot;$module&quot;, $nbr_nodes, PROP_COMPONENT, PROP_NO_SUBSTRATE, PROP_NONLINEAR,\n    {\n"/>
<admst:for-each select="variable">
  <admst:if test="[input='yes']">
    <admst:value-of select="name"/> 
    <admst:text format="      { &quot;%s&quot;, PROP_REAL, { "/>
    <admst:apply-templates select="default" match=":expression"/>
    <admst:text format=", PROP_NO_STR }, PROP_POS_RANGE },\n"/>
  </admst:if>
</admst:for-each>
<admst:text format="      { &quot;Type&quot;, PROP_STR, { PROP_NO_VAL, &quot;npn&quot; }, PROP_NO_RANGE },\n"/>
<admst:text format="      { &quot;Temp&quot;, PROP_REAL, { 26.85, PROP_NO_STR }, PROP_MIN_VAL (K) },\n"/>
<admst:text format="      PROP_NO_PROP },\n"/>
<admst:text format="    { PROP_NO_PROP }\n  },\n"/>
</admst:for-each>
</admst:open>
<admst:message format="$module.defs.h: file created\n"/>
</admst>
